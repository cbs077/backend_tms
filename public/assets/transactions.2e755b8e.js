import{d as Y,K as V,l as f,e as l,o as F,c as N,f as o,a,w as h,F as O,k as j,b as K,m as G}from"./vendor.9d37dd73.js";import{l as L}from"./lodash.c8ee468d.js";import{u as U,w as P}from"./xlsx.4af27ae8.js";import{_ as H,B as J}from"./index.d29c9db7.js";import{T as Q}from"./table-common-button.f5560c2d.js";import{C as X}from"./confirm.modal.91109671.js";import{u as Z}from"./devices.hooks.91a6deab.js";import{a as T}from"./filter.030cb9fd.js";import"./base-modal.2684ffef.js";const $=Y({name:"DeviceUnRegistrations",components:{BaseButton:J,TableCommonButton:Q,ConfirmModal:X},setup(){let{registrationHeaders:t,devices:s,update:w,renmeObjectKey:g}=Z();const k=[{id:1,key:"sw_group_id",value:"S/W Group \uCF54\uB4DC"},{id:2,key:"sw_version",value:"S/W Version"}],C=V(),D=f({all:!1,modelCode:!1,swGroupCode:!1,swVersion:!1,status:!0,registrationDate:!0,lastAccessDate:!0}),_=f({modal:!1,text:"\uC120\uD0DD\uD55C \uD56D\uBAA9\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}),m=f({start:new Date,end:new Date}),v=V("");let d=f({page:1,pageCount:10,total:10}),u=f({swGroupCodes:[{value:"-"}],deviceModels:[{value:"-"}],deviceNumber:"",swVersions:[{value:"-"}],response:"normal",server:"prod",data:[]}),b="";function r(){console.log("searchOptions",C);var e="page="+d.page+"&page_count="+d.pageCount;return e=e+"&search_start_dt="+T(m.start)+"&search_end_dt="+T(m.end),v.value!=""&&(e=e+"&"+C.value+"="+v.value),u.deviceNumber!=""&&(e=e+"&cat_serial_no="+u.deviceNumber),e=e+"&cat_serial_no="+u.response,e=e+"&cat_serial_no="+u.server,b=e,S(e).then(i=>{E(i)}),e}const y=e=>{d.page=e,r()},A=e=>{d.pageCount=e,r()},x=e=>{r()},n=e=>{console.log("reset"),C.value="",m.start=new Date,m.end=new Date,v.value=""},M=e=>{d.total=e};function E(e){var i=e.list,c=[];for(var p of i){var B=g(p);c.push(B)}M(e.total_count),u.data=c}function z(){var e=window.localStorage.getItem("token"),i=window.localStorage.getItem("vanId"),c="van_id="+i;e==null&&(e=""),G.get("http://tms-test-server.p-e.kr:8081/terminal_mdl?"+c,{headers:{Authorization:e}}).then(p=>{var B=p.data.list;u.deviceModels=L.exports.map(B,function(W){return{value:W.CAT_MODEL_NM}})})}async function S(p){var i=window.localStorage.getItem("token"),c=window.localStorage.getItem("vanId"),p=p+"&van_id="+c;return i==null&&(i=""),await G.get("http://tms-test-server.p-e.kr:8081/swoprmg/up/moniter?"+p,{headers:{Authorization:i}}).then(I=>I.data)}const R=()=>{S("page=1&page_count=1000"+b).then(e=>{var i=U.json_to_sheet(e.list),c=U.book_new();U.book_append_sheet(c,i,"nameData"),P(c,"swGroup.xlsx")})};function q(){swGroupCreate.modal=!1,swGroupCreate.data={}}return z(),S("page=1&page_count=20").then(e=>{E(e)}),u.server=V("\uC6B4\uC601\uC11C\uBC84"),u.response=V("\uC77C\uBC18"),{update:w,deviceUnRegistration:_,headers:t,devices:s,searchOptions:C,displayOptions:D,condition:m,query:v,pageVal:d,changeForm:u,onSearch:x,excelValue:b,SGsearchOptions:k,onSaveExcel:R,paginate:y,onTake:A,update:w,renmeObjectKey:g,onSave:q,common_query:r,onReset:n}}}),ee={class:"mb-4 rounded border border-sk-gray bg-option-background p-3 pl-8"},oe={class:"my-3"},te={class:"my-3 flex"},ae=a("div",{class:"my-auto w-1/12"},"\uC870\uD68C\uC77C",-1),ne={class:"flex w-5/12"},se={class:"block"},le=a("p",{class:"mx-2 translate-y-1 transition"},"~",-1),re={class:"block"},ue={class:"my-3 flex"},ie=a("div",{class:"my-auto w-1/12"},"\uAC80\uC0C9\uC870\uAC74",-1),de={class:"flex w-4/12"},ce=a("div",{class:"my-auto w-1/12 text-center"},"\uAC80\uC0C9\uC5B4",-1),me={class:"flex w-4/12"},pe={class:"my-3 flex"},Ce=a("div",{class:"my-auto w-1/12"},"\uC751\uB2F5\uC0C1\uD0DC",-1),_e={class:"mr-12 flex"},ve={class:"mr-12 flex"},ge={class:"my-3 flex"},be=a("div",{class:"my-auto w-1/12"},"\uB2E8\uB9D0\uAE30 \uBC88\uD638",-1),fe={class:"flex w-4/12"},he={class:"my-3 flex"},we=a("div",{class:"my-auto w-1/12"},"\uC11C\uBC84",-1),De={class:"mr-12 flex"},Be=a("div",{class:"grow"},null,-1),Ve={class:"rounded border border-sk-gray"},ke={class:"flex justify-center"};function ye(t,s){const w=l("bread-crumb"),g=l("el-date-picker"),k=l("el-option"),C=l("el-select"),D=l("el-input"),_=l("el-radio"),m=l("el-radio-group"),v=l("options-search-button"),d=l("base-button"),u=l("excel-button"),b=l("table-common-button"),r=l("el-table-column"),y=l("el-table"),A=l("el-pagination"),x=l("confirm-modal");return F(),N(O,null,[o(w,{text:"Transaction \uC870\uD68C"}),a("div",ee,[a("div",oe,[a("div",te,[ae,a("div",ne,[a("div",se,[o(g,{modelValue:t.condition.start,"onUpdate:modelValue":s[0]||(s[0]=n=>t.condition.start=n),size:"large"},null,8,["modelValue"])]),le,a("div",re,[o(g,{modelValue:t.condition.end,"onUpdate:modelValue":s[1]||(s[1]=n=>t.condition.end=n),size:"large"},null,8,["modelValue"])])])]),a("div",ue,[ie,a("div",de,[o(C,{modelValue:t.searchOptions,"onUpdate:modelValue":s[2]||(s[2]=n=>t.searchOptions=n),clearable:"",placeholder:"\uC120\uD0DD",size:"large",class:"w-full"},{default:h(()=>[(F(!0),N(O,null,j(t.SGsearchOptions,n=>(F(),K(k,{key:n.value,label:n.value,value:n.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),ce,a("div",me,[o(D,{size:"large",modelValue:t.query,"onUpdate:modelValue":s[3]||(s[3]=n=>t.query=n),placeholder:"Please Input"},null,8,["modelValue"])])]),a("div",pe,[Ce,a("div",_e,[a("div",ve,[o(m,{modelValue:t.changeForm.response,"onUpdate:modelValue":s[4]||(s[4]=n=>t.changeForm.response=n)},{default:h(()=>[o(_,{label:"\uC77C\uBC18"}),o(_,{label:"\uC624\uB958"})]),_:1},8,["modelValue"])])])]),a("div",ge,[be,a("div",fe,[o(D,{modelValue:t.changeForm.deviceNumber,"onUpdate:modelValue":s[5]||(s[5]=n=>t.changeForm.deviceNumber=n),size:"large",placeholder:"Please Input"},null,8,["modelValue"])])]),a("div",he,[we,a("div",De,[o(m,{modelValue:t.changeForm.server,"onUpdate:modelValue":s[6]||(s[6]=n=>t.changeForm.server=n)},{default:h(()=>[o(_,{label:"\uC6B4\uC601\uC11C\uBC84"}),o(_,{label:"\uD14C\uC2A4\uD2B8\uC11C\uBC84"})]),_:1},8,["modelValue"])])])]),o(v,{"onClick:search":t.onSearch,"onClick:reset":t.onReset},null,8,["onClick:search","onClick:reset"])]),o(b,{"onUpdate:take":t.onTake},{body:h(()=>[o(d,{class:"mr-1",text:"\uC0AC\uC6A9 \uC911\uC9C0"}),o(d,{class:"ml-1",text:"\uC0AC\uC6A9 \uC7AC\uAC1C"}),Be,o(u,{"onClick:excel":t.onSaveExcel,class:"mr-1"},null,8,["onClick:excel"])]),_:1},8,["onUpdate:take"]),a("div",Ve,[o(y,{data:t.changeForm.data,fit:"",class:"rounded"},{default:h(()=>[o(r,{type:"selection","primary-text":"",class:"text-black",align:"center"}),o(r,{prop:"van",label:"VAN\uC0AC\uBA85",align:"center"}),o(r,{prop:"modelCode",label:"S/W Group\uBA85",align:"center"}),o(r,{prop:"swOldVersion",label:"S/W Version",align:"center"}),o(r,{prop:"deviceNumber",label:"\uB2E8\uB9D0\uAE30\uBC88\uD638",align:"center"}),o(r,{prop:"request",label:"\uC694\uCCAD\uB0B4\uC6A9",align:"center"}),o(r,{prop:"regDt",label:"\uC694\uCCAD\uC77C\uC2DC",align:"center"}),o(r,{prop:"status",label:"\uC751\uB2F5\uCF54\uB4DC",align:"center"})]),_:1},8,["data"])]),a("div",ke,[o(A,{onCurrentChange:t.paginate,background:"",class:"my-6",layout:"prev, pager, next","page-count":t.pageVal.total},null,8,["onCurrentChange","page-count"])]),o(x,{modelValue:t.deviceUnRegistration.modal,"onUpdate:modelValue":s[7]||(s[7]=n=>t.deviceUnRegistration.modal=n),title:"Confirm","positive-text":"\uC0AD\uC81C","negative-text":"\uCDE8\uC18C",text:t.deviceUnRegistration.text},null,8,["modelValue","text"])],64)}var Ge=H($,[["render",ye]]);export{Ge as default};
