import{U as L}from"./index.e12753c8.js";import{d as M,j as R,e as n,o as h,b as S,w as y,a as e,f as s,t as U,K as T,l as D,c as $,F,k as z,a4 as j,m as E}from"./vendor.9d37dd73.js";import"./lodash.c8ee468d.js";import{u as A,w as G}from"./xlsx.4af27ae8.js";import{B as O,_ as q,u as N}from"./index.d29c9db7.js";import{T as I}from"./table-common-button.f5560c2d.js";import{B as K}from"./base-modal.2684ffef.js";import{S as W}from"./select-box.f66e98c2.js";import{u as H}from"./devices.hooks.91a6deab.js";import"./filter.030cb9fd.js";const J=M({components:{BaseModal:K,BaseButton:O,SelectBox:W},props:{name:{type:String},code:{type:String},description:{type:String},registrationDate:{type:String},registrationUser:{type:String},modelValue:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue","click:positive","click:negative"],setup(t,{emit:a}){const i=R({get:()=>t.modelValue,set:c=>{a("update:modelValue",c)}}),{deviceModels:m,swVersions:g,swGroupCodes:f}=N();return{deviceModels:m,swVersions:g,swGroupCodes:f,isOpen:i,closeModal(){i.value=!1}}}}),P=e("div",{class:"my-3 grid h-10 grid-cols-8"},[e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uC544\uC774\uB514"),e("div",{class:"col-span-4 my-auto"},"\uC544\uC774\uB514")],-1),Q={class:"my-3 grid h-10 grid-cols-8"},X=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uC18C\uC18D\uC0AC",-1),Y={class:"col-span-4 my-auto"},Z={class:"my-3 grid h-10 grid-cols-8"},ee=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uAD8C\uD55C",-1),oe={class:"col-span-4 my-auto"},te={class:"my-3 grid h-10 grid-cols-8"},se=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uC804\uD654\uBC88\uD638",-1),ae={class:"col-span-4 my-auto"},le={class:"my-3 grid h-10 grid-cols-8"},ne=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uD329\uC2A4\uBC88\uD638",-1),ue={class:"col-span-4 my-auto"},re={class:"my-3 grid h-10 grid-cols-8"},ie=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uB2F4\uB2F9\uC790\uBA85",-1),ce={class:"col-span-4 my-auto"},de={class:"my-3 grid h-10 grid-cols-8"},pe=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uC8FC\uC18C",-1),me={class:"col-span-5 my-auto"},_e={class:"my-3 grid h-10 grid-cols-8"},ge=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uB4F1\uB85D\uC77C",-1),ve={class:"col-span-6 my-auto"},Ce={class:"my-3 grid h-10 grid-cols-8"},be=e("div",{class:"col-span-2 my-auto text-center font-bold"},"\uB4F1\uB85D\uC790",-1),he={class:"col-span-6 my-auto"},ye={class:"mt-12 text-center"};function fe(t,a,i,m,g,f){const c=n("el-select"),d=n("el-input"),v=n("base-button"),u=n("base-modal");return h(),S(u,{modelValue:t.isOpen,"onUpdate:modelValue":a[1]||(a[1]=C=>t.isOpen=C),class:"w-2/3",title:"S/W Group \uB4F1\uB85D","no-action":""},{modalBody:y(()=>[e("div",null,[P,e("div",Q,[X,e("div",Y,[s(c,{size:"large w-full"})])]),e("div",Z,[ee,e("div",oe,[s(c,{size:"large w-full"})])]),e("div",te,[se,e("div",ae,[s(d,{size:"large"})])]),e("div",le,[ne,e("div",ue,[s(d,{size:"large"})])]),e("div",re,[ie,e("div",ce,[s(d,{size:"large"})])]),e("div",de,[pe,e("div",me,[s(d,{size:"large"})])]),e("div",_e,[ge,e("div",ve,U(t.registrationDate),1)]),e("div",Ce,[be,e("div",he,U(t.registrationUser),1)])]),e("div",ye,[s(v,{class:"mr-4 border-sk-gray bg-sk-gray text-white",text:"\uC218\uC815 \uBC0F \uC800\uC7A5",type:"button",onClick:a[0]||(a[0]=C=>t.$emit("click:positive"))})])]),_:1},8,["modelValue"])}var Be=q(J,[["render",fe]]);const De=M({name:"DeviceRegistrationLogs",components:{TableCommonButton:I,BaseButton:O,UserDetailModal:Be},setup(){let{update:t,renmeObjectKey:a}=H();const i=T(),m=D({squad:{available:[{value:"test"}],select:void 0},condition:{available:[{value:"\uC544\uC774\uB514"},{value:"\uB2F4\uB2F9\uC790\uBA85"}],select:void 0},query:L.lorem.word()}),g=D({modal:!1}),f=()=>{g.modal=!0},c=D({data:[]}),d=l=>{u.page=l;var o="page="+u.page+"&page_count="+u.pageCount;o=o+"&"+i.value+"="+m.query.value,_(o).then(r=>{b(r)})},v=l=>{u.pageCount=l;var o="page="+u.page+"&page_count="+u.pageCount;o=o+"&"+i.value+"="+m.query.value,_(o).then(r=>{b(r)})};let u=D({page:1,pageCount:10,total:10}),C=D({swGroupCodes:[{value:"-"}],deviceModels:[{value:""}],swVersions:[{value:"-"}]}),B="";const w=()=>{var l="page="+u.page+"&page_count="+u.pageCount;i.value!=""&&(l=l+"&van_id="+i.value),B=l,_(l).then(o=>{b(o)})},p=l=>{u.total=l};function b(l){var o=l.list,r=[];for(var x of o){var V=a(x);r.push(V)}p(l.total_count),c.data=r}async function _(r){var o=window.localStorage.getItem("token"),r=r;return o==null&&(o=""),await E.get("http://tms-test-server.p-e.kr:8081/getUserMgList?"+r,{headers:{Authorization:o}}).then(V=>V.data)}const k=()=>{_("page=1&page_count=1000"+B).then(l=>{var o=A.json_to_sheet(l.list),r=A.book_new();A.book_append_sheet(r,o,"nameData"),G(r,"terminalmdl.xlsx")})};return _("page=1&page_count=20").then(l=>{b(l)}),{filter:m,userDetail:g,onRowClicked:f,vanList:c,pageVal:u,changeForm:C,onSearch:w,excelValue:B,onSaveExcel:k,paginate:d,onTake:v,selectOption:i}}}),we={class:"mb-4 rounded border border-sk-gray bg-option-background p-3 pl-8"},ke={class:"my-3 flex flex-row"},Ve=e("div",{class:"my-auto w-1/12"},"\uC18C\uC18D\uC0AC",-1),$e={class:"my-auto w-5/12 pr-5"},Fe={class:"my-3 flex flex-row"},Ae=e("div",{class:"my-auto w-1/12"},"\uAC80\uC0C9\uC870\uAC74",-1),Se={class:"my-auto w-5/12 pr-5"},xe=e("div",{class:"my-auto w-1/12 text-center"},"\uAC80\uC0C9\uC5B4",-1),Ue={class:"w-5/12 pr-5"},ze=e("div",{class:"grow"},null,-1),Me={class:"rounded border border-sk-gray"},Oe={class:"flex justify-center"};function qe(t,a,i,m,g,f){const c=n("bread-crumb"),d=n("el-option"),v=n("el-select"),u=n("el-input"),C=n("options-search-button"),B=n("excel-button"),w=n("table-common-button"),p=n("el-table-column"),b=n("base-button"),_=n("el-table"),k=n("el-pagination"),l=n("user-detail-modal");return h(),$(F,null,[s(c,{text:"\uAC1C\uC778\uC815\uBCF4 \uC870\uD68C"}),e("div",we,[e("div",ke,[Ve,e("div",$e,[s(v,{modelValue:t.selectOption,"onUpdate:modelValue":a[0]||(a[0]=o=>t.selectOption=o),clearable:"",placeholder:"\uC120\uD0DD",size:"large",class:"w-full"},{default:y(()=>[(h(!0),$(F,null,z(t.changeForm.deviceModels,o=>(h(),S(d,{key:o.value,label:o.value,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),e("div",Fe,[Ae,e("div",Se,[s(v,{modelValue:t.selectOption,"onUpdate:modelValue":a[1]||(a[1]=o=>t.selectOption=o),clearable:"",placeholder:"\uC120\uD0DD",size:"large",class:"w-full"},{default:y(()=>[(h(!0),$(F,null,z(t.changeForm.deviceModels,o=>(h(),S(d,{key:o.value,label:o.value,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),xe,e("div",Ue,[s(u,{modelValue:t.filter.query,"onUpdate:modelValue":a[2]||(a[2]=o=>t.filter.query=o),size:"large"},null,8,["modelValue"])])]),s(C,{"onClick:search":t.onSearch},null,8,["onClick:search"])]),s(w,null,{body:y(()=>[ze,s(B,{class:"mr-1"})]),_:1}),e("div",Me,[s(_,{data:t.vanList.data,class:"rounded",onRowClick:t.onRowClicked},{default:y(()=>[s(p,{prop:"userId",label:"\uC544\uC774\uB514",align:"center"}),s(p,{prop:"userNm",label:"\uB2F4\uB2F9\uC790\uBA85",align:"center"}),s(p,{prop:"squad",label:"\uC18C\uC18D\uC0AC",align:"center"}),s(p,{prop:"regDt",label:"\uB4F1\uB85D\uC77C",align:"center"}),s(p,{prop:"regUser",label:"\uB4F1\uB85D\uC790",align:"center"}),s(p,{label:"\uD328\uC2A4\uC6CC\uB4DC \uCD08\uAE30\uD654",align:"center"},{default:y(()=>[s(b,{text:"\uCD08\uAE30\uD654",onClickCapture:a[3]||(a[3]=j(()=>{},["prevent","stop"]))})]),_:1})]),_:1},8,["data","onRowClick"])]),e("div",Oe,[s(k,{onCurrentChange:t.paginate,background:"",class:"my-6",layout:"prev, pager, next","page-count":t.pageVal.total},null,8,["onCurrentChange","page-count"])]),s(l,{modelValue:t.userDetail.modal,"onUpdate:modelValue":a[4]||(a[4]=o=>t.userDetail.modal=o)},null,8,["modelValue"])],64)}var He=q(De,[["render",qe]]);export{He as default};
